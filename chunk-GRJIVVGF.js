import{a as A,b as G}from"./chunk-M27UOWBV.js";import{a as T}from"./chunk-M7SPXNKO.js";import"./chunk-QMPEXIIL.js";import{c as V,e as b,h as H,k as q,n as O,o as P,p as $,q as N,u as B,v as R,x as j}from"./chunk-JJYV5DBM.js";import{a as y}from"./chunk-CVZT7FZF.js";import"./chunk-W5UVDF5Y.js";import{F as k}from"./chunk-A6I6W62P.js";import"./chunk-DRMDS4HS.js";import{Cb as x,Db as g,Eb as I,Fb as F,Gb as a,Hb as l,Jb as v,Qb as _,Rb as m,Ub as M,Wa as p,ac as s,bc as C,ca as f,hb as w,ia as u,ja as c,nb as h,ra as D,xb as E,ya as L}from"./chunk-WEZV2HRD.js";function K(e,i){if(e&1){let t=v();a(0,"mat-option",2),_("click",function(r){u(t);let o=m();return c(o.onInput(r))}),s(1,"Mantenimiento"),l(),a(2,"mat-option",3),_("click",function(r){u(t);let o=m();return c(o.onInput(r))}),s(3,"Retiro de equipo"),l(),a(4,"mat-option",4),_("click",function(r){u(t);let o=m();return c(o.onInput(r))}),s(5,"Instalacion de equipo"),l()}}function Q(e,i){if(e&1){let t=v();a(0,"mat-option",6),_("click",function(r){u(t);let o=m(2);return c(o.onInput(r))}),s(1),l()}if(e&2){let t=i.$implicit;p(),C(t.text)}}function U(e,i){if(e&1&&I(0,Q,2,1,"mat-option",5,g),e&2){let t=m();F(t.inputList)}}function X(e,i){if(e&1){let t=v();a(0,"mat-option",6),_("click",function(r){u(t);let o=m(2);return c(o.onInput(r))}),s(1),l()}if(e&2){let t=i.$implicit;p(),C(t.text)}}function Z(e,i){if(e&1&&I(0,X,2,1,"mat-option",5,g),e&2){let t=m();F(t.inputList)}}function tt(e,i){e&1&&(a(0,"mat-error"),s(1,"Please enter a valid name"),l())}function et(e,i){e&1&&(a(0,"mat-error"),s(1,"name is "),a(2,"strong"),s(3,"required"),l()())}var W=class e{values={};servicesEvent=new D;shareComplete=f(T);dataForm=f(y);value=L("");nameFormControl=new H(this.value(),[V.required]);inputList=[];onInput(i){this.value.set(i.target.innerText);let t=i.target.innerText;this.dataForm.setData(this.nameFormControl.value||""),this.shareComplete.setServicio(this.nameFormControl.value||""),this.servicesEvent.emit(this.nameFormControl.value||""),this.dataForm.setFormData(this.values.control,t)}getHours(){let i=[{value:"09:00",text:"09:00"},{value:"10:00",text:"10:00"},{value:"11:00",text:"11:00"},{value:"12:00",text:"12:00"},{value:"13:00",text:"13:00"},{value:"14:00",text:"14:00"},{value:"15:00",text:"15:00"},{value:"16:00",text:"16:00"},{value:"17:00",text:"17:00"},{value:"18:00",text:"18:00"},{value:"19:00",text:"19:00"}],t=new Date;return t.getHours()>=21?[]:t.getHours()<15?i:i.filter(n=>{let[r,o]=n.value.split(":"),d=new Date(t);return d.setHours(parseInt(r),parseInt(o),0,0),d>=t})}getDates(){let i=[],t=new Date,n=new Date(t);n.setDate(t.getDate()+1);for(let r=0;r<15;r++){let o=new Date(n);o.setDate(n.getDate()+r);let d=o.getDay();if(d===0||d===6)continue;let Y=String(o.getDate()).padStart(2,"0"),z=String(o.getMonth()+1).padStart(2,"0"),J=o.getFullYear(),S=`${Y}-${z}-${J}`;i.push({value:S,text:S})}return i}ngOnInit(){this.values.label==="Servicio requerido"||(this.values.label==="Dia instalacion"?this.inputList=this.getDates():this.values.label==="Hora instalacion"&&(this.inputList=this.getHours()))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=w({type:e,selectors:[["input-list"]],inputs:{values:"values"},outputs:{servicesEvent:"servicesEvent"},decls:9,vars:5,consts:[["appearance","outline",3,"hintLabel"],[3,"formControl"],["value","mantenimiento",3,"click"],["value","retiro",3,"click"],["value","instalacion",3,"click"],["value","input.value"],["value","input.value",3,"click"]],template:function(t,n){t&1&&(a(0,"mat-form-field",0)(1,"mat-label"),s(2),l(),a(3,"mat-select",1),h(4,K,6,0)(5,U,2,0)(6,Z,2,0),l(),h(7,tt,2,0,"mat-error")(8,et,4,0,"mat-error"),l()),t&2&&(M("hintLabel",n.values.hint),p(2),C(n.values.label),p(),E("formControl",n.nameFormControl),p(),x(n.values.label==="Servicio requerido"?4:n.values.label==="Dia instalacion"?5:n.values.label==="Hora instalacion"?6:-1),p(3),x(!n.nameFormControl.hasError("required")&&n.nameFormControl.hasError("pattern")?7:n.nameFormControl.hasError("required")?8:-1))},dependencies:[R,B,$,N,G,A,k,O,b,P,q,j],styles:["*[_ngcontent-%COMP%]{width:100%;height:auto}mat-hint[_ngcontent-%COMP%]{width:auto;height:auto}strong[_ngcontent-%COMP%]{font-weight:600}"],changeDetection:0})};export{W as InputListComponent};
